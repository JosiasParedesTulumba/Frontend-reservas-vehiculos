<div class="reserva-rectangulo mx-3 mt-4 mb-3 shadow">
  <div class="d-flex align-items-center gap-4">
    <i class="bx bxs-filter-alt filtro-icono me-2"></i>
    <h5 class="mb-0 fw-bold">Filtros</h5>
    <div class="d-flex align-items-center gap-4 ms-auto">
      <div class="d-flex align-items-center">
        <label for="rol" class="me-2 mb-0">Rol:</label>
        <select
          id="rol"
          name="rol"
          class="form-select"
          style="width: 120px"
          [(ngModel)]="filtroRol"
        >
          <option value="">Todos</option>
          <option value="Admin">Admin</option>
          <option value="Empleado">Empleado</option>
          <option value="Cliente">Cliente</option>
        </select>
      </div>
      <div class="d-flex align-items-center">
        <label for="dniNombre" class="me-2 mb-0">DNI o Nombres:</label>
        <input
          id="dniNombre"
          name="dniNombre"
          type="text"
          class="form-control"
          placeholder="Ej. 73948467 | josias paredes"
          style="width: 220px"
          [(ngModel)]="filtroDniNombre"
        />
      </div>
    </div>
  </div>
  <!-- Aquí puedes poner más contenido -->
</div>

<div class="contenedor-tabla shadow">
  <!-- Header con título y botón dentro del contenedor -->
  <div class="d-flex justify-content-between align-items-center mb-4">
    <div class="d-flex align-items-center">
      <i class="bx bx-menu me-3" style="font-size: 2rem; color: #333"></i>
      <h3 class="mb-0 fw-bold text-dark">Personas</h3>
    </div>
    <button
      class="btn btn-success d-flex align-items-center custom-btn"
      (click)="openModal()"
    >
      <i class="bx bx-plus me-2"></i>
      Agregar Persona
    </button>
  </div>

  <div class="d-flex justify-content-center mb-4 gap-5">
    <button
      class="toggle-btn"
      [class.selected]="mostrarClientes"
      (click)="mostrarTablaClientes()"
    >
      Listado de Clientes
    </button>
    <button
      class="toggle-btn"
      [class.selected]="!mostrarClientes"
      (click)="mostrarTablaEmpleados()"
    >
      Listado de Empleados
    </button>
  </div>

  <div class="table-responsive" *ngIf="mostrarClientes">
    <table class="table table-hover mb-0">
      <thead class="table-light">
        <tr>
          <th class="text-center">DNI</th>
          <th class="text-center">Nombres</th>
          <th class="text-center">Apellidos</th>
          <th class="text-center">Teléfono</th>
          <th class="text-center">Correo</th>
          <th class="text-center">Dirección</th>
          <th class="text-center">Fecha</th>
          <th class="text-center">Acciones</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let cliente of clientes">
          <td class="text-center">{{ cliente.dni }}</td>
          <td class="text-center">{{ cliente.nombres }}</td>
          <td class="text-center">{{ cliente.apellidos }}</td>
          <td class="text-center">{{ cliente.telefono }}</td>
          <td class="text-center">{{ cliente.correo }}</td>
          <td class="text-center">{{ cliente.direccion }}</td>
          <td class="text-center">{{ cliente.fechaRegistro | date: 'dd/MM/yyyy' }}</td>
          <td class="text-center">
            <button
              class="btn btn-link text-primary p-0 me-2"
              (click)="editarPersona(cliente)"
              title="Editar"
            >
              <i class="bx bx-edit"></i>
            </button>
            <button
              class="btn btn-link text-danger p-0"
              (click)="eliminarPersona(cliente)"
              title="Eliminar"
            >
              <i class="bx bx-trash"></i>
            </button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
  <div class="table-responsive" *ngIf="!mostrarClientes">
    <table class="table table-hover mb-0">
      <thead class="table-light">
        <tr>
          <th class="text-center">DNI</th>
          <th class="text-center">Nombres</th>
          <th class="text-center">Apellidos</th>
          <th class="text-center">Telefono</th>
          <th class="text-center">Correo</th>
          <th class="text-center">Puesto</th>
          <th class="text-center">Rol</th>
          <th class="text-center">Direccion</th>
          <th class="text-center">Acciones</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let empleado of empleados">
          <td class="text-center">{{ empleado.dni }}</td>
          <td class="text-center">{{ empleado.nombres }}</td>
          <td class="text-center">{{ empleado.apellidos }}</td>
          <td class="text-center">{{ empleado.telefono }}</td>
          <td class="text-center">{{ empleado.correo }}</td>
          <td class="text-center">{{ empleado.puesto }}</td>
          <td class="text-center">{{ empleado.rol }}</td>
          <td class="text-center">{{ empleado.direccion }}</td>
          <td class="text-center">
            <button
              class="btn btn-link text-primary p-0 me-2"
              (click)="editarPersona(empleado)"
              title="Editar"
            >
              <i class="bx bx-edit"></i>
            </button>
            <button
              class="btn btn-link text-danger p-0"
              (click)="eliminarPersona(empleado)"
              title="Eliminar"
            >
              <i class="bx bx-trash"></i>
            </button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>

<app-new-people [isOpen]="isModalOpen" (closeModal)="closeModal()">
</app-new-people>

<app-edit-personas
  [isOpen]="isEditModalOpen"
  [persona]="personaEditando"
  (closeModal)="cerrarModalEdicion()"
>
</app-edit-personas>
